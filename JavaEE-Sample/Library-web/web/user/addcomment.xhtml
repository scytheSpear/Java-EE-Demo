<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
    
<h:head>
    <title>#{indexController.userTitle}</title>
    <h:outputStylesheet name="cssfile.css" />
</h:head>
<h:body>
<div class="page">
    
<header>
    <h1>#{indexController.userTitle}</h1>
</header>

<article>
    <h2>#{indexController.userTitle}</h2>
    <br/>

    <hr class="myHr"/>
            <h:form>
                <h1>User Comments</h1><br/>
                <h:dataTable value="#{userController.currentUser.comments}" var="cm"
                              styleClass="outerTable" headerClass="listTable" footerClass="listTable" 
                        columnClasses="checkBoxStyle,custNameStyle,notesStyle" width="90%" cellpadding="0" 
                        cellspacing="0" rowClasses="listContentEven,listContentOdd" border="1">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{cm.id}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Book Title"/>
                        </f:facet>
                        <h:outputText value="#{cm.book.title}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Comment"/>
                        </f:facet>
                        <h:outputText value="#{cm.commentdata}"/>
                    </h:column>
                </h:dataTable>
                
                <h2>Add Comments</h2>
                <h:inputText id="commentDate" value="#{commentController.data}" title="commentdata"/>
                <h:selectOneMenu value ="#{commentController.bid}" title="book">
                    <f:selectItems value="#{bookController.books}" var="currentBk" itemValue="#{currentBk.id}" itemLabel="#{currentBk.title}" />                       
                    </h:selectOneMenu>
                
                <h:commandButton action="#{commentController.usercreatComment()}" value="Add Comment" />
                 
                 <h1>User Book Marks</h1><br/>
                 <h:dataTable value="#{userController.currentUser.marks}" var="mk"
                               styleClass="outerTable" headerClass="listTable" footerClass="listTable" 
                        columnClasses="checkBoxStyle,custNameStyle,notesStyle" width="90%" cellpadding="0" 
                        cellspacing="0" rowClasses="listContentEven,listContentOdd" border="1">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{mk.id}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Book Title"/>
                        </f:facet>
                        <h:outputText value="#{mk.book.title}"/>
                    </h:column>
                 </h:dataTable>
                 <h2>Mark Books</h2>
                
                <h:selectOneMenu value ="#{markController.bid}" title="book">
                    <f:selectItems value="#{bookController.books}" var="currentBk" itemValue="#{currentBk.id}" itemLabel="#{currentBk.title}" />                       
                    </h:selectOneMenu>
                
                 <h:commandButton action="#{markController.creatMark()}" value="Mark Book" />
                 
                 <br/>
                <hr class="myHr" />
                
                <h:commandButton action="userprofile" value="Back to user profile" />
                <br/> <br/>
      
                </h:form>
                </article>    
    
        <footer>
            <h2>#{webInfo.pageFooter}</h2>
        </footer>
</div>
</h:body>
</html>