<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
    
<h:head>
    <title>#{indexController.userTitle}</title>
    <h:outputStylesheet name="cssfile.css" />
</h:head>
<h:body>
<div class="page">
    
<header>
    <h1>#{indexController.userTitle}</h1>
</header>

<article>
    <h2>#{indexController.userTitle}</h2>
    <br/>

    <hr class="myHr"/>
    
            <h:form>
                <h1>User Profile</h1><br/>
                <h:dataTable value="#{userController.currentUser}" var="item"
                              styleClass="outerTable" headerClass="listTable" footerClass="listTable" 
                              columnClasses="checkBoxStyle,custNameStyle,notesStyle" width="90%" cellpadding="0" 
                              cellspacing="0" rowClasses="listContentEven,listContentOdd" border="1">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{item.id}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Name"/>
                        </f:facet>
                        <h:outputText value="#{item.username}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="PW"/>
                        </f:facet>
                        <h:outputText value="#{item.password}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Email"/>
                        </f:facet>
                        <h:outputText value="#{item.email}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Age"/>
                        </f:facet>
                        <h:outputText value="#{item.age}"/>
                    </h:column>
                    <h:column>
                     <f:facet name="header">
                            <h:outputText value="Address"/>
                        </f:facet>
                        <h:outputText value="#{item.address}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Actions"/>
                        </f:facet>
                        <p class="myButton">
                        <h:commandButton action="#{userController.readUserProfile(item)}" value="Edit" /></p>
                    </h:column>
                </h:dataTable>
                
                <h1>User Comments</h1><br/>
                <h:dataTable value="#{userController.currentUser.comments}" var="cm"
                              styleClass="outerTable" headerClass="listTable" footerClass="listTable" 
                        columnClasses="checkBoxStyle,custNameStyle,notesStyle" width="90%" cellpadding="0" 
                        cellspacing="0" rowClasses="listContentEven,listContentOdd" border="1">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{cm.id}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Book Title"/>
                        </f:facet>
                        <h:outputText value="#{cm.book.title}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Comment"/>
                        </f:facet>
                        <h:outputText value="#{cm.commentdata}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Actions"/>
                        </f:facet>
                        <p class="myButton">
                            <h:commandButton action="#{commentController.deleteComment(cm)}" value="Delete" /></p>
                    </h:column>
                </h:dataTable>
            
                <h:commandButton action="#{commentController.setupComment()}" value="Add comment" />
                 
                 <h1>User Loans</h1><br/>
                 <h:dataTable value="#{userController.currentUser.loans}" var="ln"
                               styleClass="outerTable" headerClass="listTable" footerClass="listTable" 
                        columnClasses="checkBoxStyle,custNameStyle,notesStyle" width="90%" cellpadding="0" 
                        cellspacing="0" rowClasses="listContentEven,listContentOdd" border="1">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{ln.id}"/>
                    </h:column>
                     <h:column>
                        <f:facet name="header">
                            <h:outputText value="Loan Date"/>
                        </f:facet>
                         <h:outputText value="#{ln.loandate}"/>
                    </h:column>
                     <h:column>
                        <f:facet name="header">
                            <h:outputText value="Book Title"/>
                        </f:facet>
                         <h:outputText value="#{ln.book.title}"/>
                    </h:column>
                 </h:dataTable>
                 <h:commandButton action="#{loanController.usersetLoan()}" value="Add Loan" />
                 
                 
                 <h1>User Book Marks</h1><br/>
                 <h:dataTable value="#{userController.currentUser.marks}" var="mk"
                               styleClass="outerTable" headerClass="listTable" footerClass="listTable" 
                        columnClasses="checkBoxStyle,custNameStyle,notesStyle" width="90%" cellpadding="0" 
                        cellspacing="0" rowClasses="listContentEven,listContentOdd" border="1">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{mk.id}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Book Title"/>
                        </f:facet>
                        <h:outputText value="#{mk.book.title}"/>
                    </h:column>
                     <h:column>
                        <f:facet name="header">
                            <h:outputText value="Actions"/>
                        </f:facet>
                        <p class="myButton">
                            <h:commandButton action="#{markController.deleteMark(mk)}" value="Delete" /></p>
                    </h:column>
                     
                 </h:dataTable>
                 <br/>
                 <h:commandButton action="#{markController.setupMark()}" value="Mark Book" />
                 <br/>
                 
                
                <hr class="myHr" />
                <h:commandButton action="index" value="Back to Index" />
                <br/> <br/>
      
                </h:form>
                </article>    
    
        <footer>
            <h2>#{webInfo.pageFooter}</h2>
        </footer>
</div>
</h:body>
</html>